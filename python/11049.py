# 11049
'''
ì˜ ì´í•´ê°€ ì•ˆê°€ë‹ˆ ë‹¤ì‹œ ê¼­ ë³´ê¸°ë¥¼ ê¶Œì¥!!
'''
import sys
input = sys.stdin.readline

N = int(input()) # í–‰ë ¬ì˜ ê°œìˆ˜ N

'''í–‰ë ¬ì˜ í¬ê¸° r ê³¼ c ê°€ ì£¼ì–´ì§'''
arr = [list(map(int, input().split())) for _ in range(N)] 

dp = [[0]*N for _ in range(N)]

'''
ì˜ˆì‹œì—ì„œ 5 3, 3 2, 2 6 ìš”ë ‡ê²Œ 3ê°€ì§€ í–‰ë ¬ìœ¼ë¡œ ë³´ì•˜ì„ ë•Œ,
5ë¡œ ì‹œì‘í•´ì„œ 2ë¡œ ëë‚˜ëŠ” í–‰ë ¬ì˜ ì—°ì‚°íšŸìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ìƒê°í•´ë³´ì.
5ë¡œ ì‹œì‘í•´ì„œ 2ë¡œ ëë‚˜ëŠ” í–‰ë ¬ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ë°©ë²•ì„ ë¹„êµí•˜ì—¬ ìµœì†Ÿê°’ì„ ì°¾ì•„ì•¼í•˜ë©°, 
ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ëŠ” í–‰ë ¬ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë°©ë²•ì€ 5*3*2 í•œ ê°€ì§€ì´ë‹¤.

5*3 ì—°ì‚° íšŸìˆ˜ + 3*2 ì—°ì‚° íšŸìˆ˜ + 5*3*2

ê·¸ ë‹¤ìŒì—ëŠ” 5ë¡œ ì‹œì‘í•´ì„œ 6ìœ¼ë¡œ ëë‚˜ëŠ” í–‰ë ¬ì˜ ì—°ì‚° íšŸìˆ˜ë¥¼ êµ¬í•  ì°¨ë¡€ì´ê³ ,
5*3 ë³´ë‹¤ 3*2ì™€ 2*6ì„ ë¨¼ì € êµ¬í•˜ëŠ” ë°©ë²•, 5*3ê³¼ 3*2ë¥¼ ë¨¼ì € êµ¬í•˜ê³  2*6ì„ í•˜ëŠ” ë°©ë²• 2ê°€ì§€ì´ë‹¤.
ê·¸ëŸ¬ê¸°ì— ê°’ì„ ë¹„êµí•˜ì—¬ ì‘ì€ ê°’ì„ ì €ì¥í•œë‹¤.

min(5*3 ì—°ì‚°íšŸìˆ˜ + 3*6 ì—°ì‚°íšŸìˆ˜ + 5*3*6 == 126, 
    5*2 ì—°ì‚°íšŸìˆ˜ + 2*6 ì—°ì‚°íšŸìˆ˜ +_ 5*2*6 == 90)
    
ì´ë ‡ê²Œ ìµœì†Ÿ ì—°ì‚° íšŸìˆ˜ëŠ” 90ì´ ëœë‹¤. 
'''


'''

ê°„ê²©ì´ ì‘ì€ ë²”ìœ„ë¶€í„° ê³„ì‚°í•œë‹¤.
ìœ„ì—ì„œ ì—°ì‚° ê²½ìš°ì˜ ìˆ˜ë¥¼ í™•ì¸í•˜ë©´ì„œ ì‚´í´ë´¤ë“¯ì´
í–‰ë ¬ 4ê°œë¥¼ ê³±í•œ ì—°ì‚° íšŸìˆ˜ë¥¼ ì•Œê¸° ìœ„í•´ì„œëŠ” ğŸ‘‰ 3ê°œë¥¼ ê³±í•œ ì—°ì‚° íšŸìˆ˜ë¥¼ ì•Œì•„ì•¼ í•˜ê³ ,
3ê°œë¥¼ ê³±í•œ ì—°ì‚° íšŸìˆ˜ë¥¼ êµ¬í•˜ê¸° ìœ„í•´ì„œëŠ” ğŸ‘‰ 2ê°œë¥¼ ê³±í•œ ì—°ì‚° íšŸìˆ˜ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.


ë”°ë¼ì„œ, ê°„ê²©ì´ ì‘ì€ ë²”ìœ„ë¶€í„° ì—°ì‚° íšŸìˆ˜ë¥¼ ê³„ì‚°í•´ ë‚˜ê°ˆ ê²ƒì´ë‹¤. (ê°„ê²©ì´ ì‘ì€ ê²ƒë¶€í„° ê³„ì‚°í•œë‹¤.)

# 1. ê°„ê²©ì´ 1ì¸ ë²”ìœ„ ë¨¼ì € ì „ë¶€ ê³„ì‚°
í–‰ë ¬ 1 ~ 2, í–‰ë ¬ 2 ~ 3, í–‰ë ¬ 3 ~ 4

# 2. ë‹¤ìŒìœ¼ë¡œ ê°„ê²©ì´ 2ì¸ ë²”ìœ„ ì „ë¶€ ê³„ì‚°
í–‰ë ¬ 1 ~ 3, í–‰ë ¬ 2 ~ 4

# 3. ë§ˆì§€ë§‰ìœ¼ë¡œ ê°„ê²©ì´ 3ì¸ ë²”ìœ„ ê³„ì‚°
í–‰ë ¬ 1 ~ 4

í–‰ë ¬1 x í–‰ë ¬2 x í–‰ë ¬3ìˆì„ ë•Œ, term 2ì´ë©´ í–‰ë ¬ 3ê°œì˜ ê³±ì„ ê³„ì‚°ì„ í•´ì•¼í•˜ëŠ”ë°,
í–‰ë ¬1(í–‰ë ¬2 x í–‰ë ¬3)
(í–‰ë ¬1 x í–‰ë ¬2)í–‰ë ¬3 

ì´ë ‡ê²Œ ìˆì„ ê²ƒ(ë§ìœ¼ë©´ ë” ë§ì•„ì§€ê³ )

ì´ë ‡ê²Œ ê´„í˜¸ ì•ˆ í–‰ë ¬ì´ 1ê°œë¶€í„° ìµœëŒ€ N-1ê¹Œì§€(termê°œ) êµ¬ì„±ì´ ëœë‹¤.
ì´ ëª¨ë“  ê²½ìš°ë¥¼ ê³„ì‚° í•˜ê¸° ìœ„í•´ì„œ start ë¶€í„° start + term ì§ì „ê¹Œì§€ ì¦ê°€í•˜ëŠ” t ë³€ìˆ˜ë¥¼ í™œìš©í•œë‹¤.
ì´ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ê´„í˜¸ë¡œ ë¬¶ì´ëŠ” ë¬¶ìŒ ê¸°ì¤€ìœ¼ë¡œ ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë‚˜ëˆ„ê³ 
dp[start][t] -> ì‹œì‘ í–‰ë ¬ start, ë í–‰ë ¬ t ë¡œ ì„¤ì •
ì˜¤ë¥¸ìª½ ë¬¶ìŒì˜ ì—°ì‚° íšŸìˆ˜ëŠ” dp[t+1][start+term] 
'ì™¼ìª½ ë¬¶ìŒì˜ ê²°ê³¼ í–‰ë ¬ X ì˜¤ë¥¸ìª½ ë¬¶ìŒì˜ ê²°ê³¼ í–‰ë ¬'ì˜ ì—°ì‚° íšŸìˆ˜ëŠ” 
arr[start][0] * arr[t][1] * arr[start+term][1]
'''
for term in range(1, N):
    for start in range(N):  # ì²«í–‰ë ¬ : i, ëí–‰ë ¬: i+term
        if start + term == N:  # ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ë©´ ë¬´ì‹œ
            break
        
        dp[start][start+term] = int(2**31)  # ì§€ê¸ˆ ê³„ì‚°í•  ì²«í–‰ë ¬ê³¼ ëí–‰ë ¬ -> ìµœëŒ€ ì € ìˆ˜ë¥¼ ë„˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë¬¸ì œì—ì„œ ì •ì˜ í–ˆìœ¼ë¯€ë¡œ ìµœì†Œë¥¼ ì°¾ê¸°ìœ„í•´ ì„¤ì •
        
        for t in range(start, start+term):
            dp[start][start+term] = min(dp[start][start+term],
                                        # ğŸ‘‡ 1 + 2 + 3
                                        dp[start][t]+dp[t+1][start+term] + arr[start][0] * arr[t][1] * arr[start+term][1])

print(dp[0][N-1])